# مدیریت پیام‌ها


## دریافت فهرست پیام

فهرست پیام‌ها با استفاده از فراخوانی زیر انجام می‌شود:

	/api/message/list

این فراخوانی تنها با استفاده از متد زیر انجام می‌شود:

- GET

علاوه بر این می‌توان پارامترهای زیر را در این فراخوانی به کار گرفت:

- count
- after
- before

count حد اکثر تعداد پیامهای دریافتی را تعیین می‌کنه که به صورت پیش فرض معادل با عدد ۱۰ در نظر گرفته می‌شود.

after و before بازه زمانی را تعیین می‌کند که پیام‌ها در آن قرار گرفته‌اند.

خروجی به صورت شئی است که در آن تمام پیام‌ها آورده شده است. در زیر یک نمونه از این خروجی آورده شده است:

	{
	  "0": {
	    "title": "Welcome to Apartment manager",
	    "message": "This is the welcome message from DPQ",
	    "creation_date": "2015-05-03 17:34:13"
	  },
	  "1": {
	    "title": "example title",
	    "message": "example mesage",
	    "creation_date": "2015-05-03 17:34:19"
	  },
	  ...
	}

## ایجاد یک پیام

ایجاد یک پیام با استفاده از فراخوانی زیر انجام می‌شود:

	/api/message

این فراخوانی باید با استفاده از متد POST انجام شود و پارامترهای زیر را نیاز دارد:

- title
- message

سایر پارامترهای پیام به صورت خودکار تعییین می‌شود.

