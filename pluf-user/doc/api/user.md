# کاربران

معمولا ماژولها با استفاده از پیشوندهایی در سیستم‌ها به کار گرفته می‌شوند. از این رو برای استفاده از این ماژول باید پیشوندهای در نظر گرفته شده در نرم‌افزار نهایی مد نظر گرفته شود. برای نمونه اگر واسط ورود به سیستم به صورت زیر تعریف شده است:

	/login

و پیشوند نرم‌افزار به صورت زیر:

	/api/user
	
انگاه ورورد به سیستم به صورت زیر فراخوانی می‌شود:

	/api/user/login

تمام فراخوانی‌هایی که در سیستم ایجاد شده را می‌توان بر اساس دسترسی به سه دسته کلی تقسیم کرد:

- هر فردی می‌تواند استفاده کند
- افراد وارد شده می‌توانند استفاده کنند
- کارمند و مدیر می‌تواند استفاده کند

برای نمونه ورود به سیستم می‌تواند توسط هر فردی فراخوانی شود در حالی که دریافت اطلاعات حساب کاربری تنها توسط افراد وارد شده به سیستم قابل دسترسی است. کارمندان و مدیران نیز می‌توانند علاوه بر دسترسی به اطلاعات حساب کاربری خود به اطلاعات حساب سایر کاربران نیز دسترسی پیدا کنند.

## احراز اصالت

احراز اصالت با استفاده از فراخوانی زیر در سیستم انجام می‌شود:

	/login

تنها متد قابل استفاده برای این فراخوانی متد POST است. در زیر پارامترهای مورد نیاز برای این فراخوانی عبارتند از:

- login
- password

در پاسخ اطلاعات کامل کاربری دریافت می‌شود. یک نمونه از این خروجی در زیر آورده شده است:

	{
		'id':'example id',
		'login': ''
		'first_name' : 'user',
		...
	}

## خروج از سیستم 

برای خارج شدن از سیستم فراخوانی زیر در نظر گرفته شده است.

	/logout

تنها متد می‌ورد حمایت در این فراخوانی متد POST است. این فراخوانی نیازی به هیچ پارامتری ندارد.


## دریافت حساب کاربری


برای دریافت اطلاعات حساب کاربری، فراخوانی زیر به کار گرفته می‌شود.

	/account

این فراخوانی با استفاده از متد GET به کار گرفته می‌شود و در نتیجه آن تمام اطلاعات کاربر (به جز گذرواژه) برای آن ارسال می‌شود.

## به روز کردن حساب کاربری

با استفاده از فراخوانی زیر می‌توانید حساب کاربری خود را به روز کنید.

	/account

این فراخوانی با متد POST قابل دسترسی است و می‌تواند شامل اطلاعات زیر باشد:

- first_name
- last_name
- email
- password
- language
- timezone

## ثبت یک کاربر

ثبت یک کاربر با استفاده از فراخوانی زیر انجام می‌شود:

	/signup

تنها متد قابل استفاده برای این فراخوانی متد POST است. پارامترهای مورد نیاز برای این فراخوانی عبارتند از:

- login*
- first_name
- last_name
- email*
- password
- language
- timezone


تمام مواردی که در بالا با ستاره تعیین شده باید یکتا باشد.

## دریافت یک کاربر

تمام اطلاعات یک کاربر با استفاده از فراخوانی زیر قابل دسترسی است:

	/{user name}

تنها متد قابل دسترسی برای این فراخوانی GET است. در نتیجه این فراخوانی اطلاعات کامل کاربر به صورت یک موجودیت JSON ارسال می‌شود.

کسی که این واسط را فراخوانی می‌کند باید مدیر و یا کارمند سیستم باشد در غیر این صورت اجازه انجام این کار را ندارد. اما اگر شناسه به کار گرفته شده برای کاربر، شناسه خود کاربر باشد می‌تواند این کار را انجام دهد.

## به روز رسانی یک کاربر

کاربر باید مدیر و یا کارمند باشد.

در صورتی که کاربر مورد نظر همان فراخوان کننده این تابع باشد این فراخوانی معادل با فراخوانی حساب کاربری در نظر گرفته می‌شود. سایر اطلاعاتی که در اینجا بیشتر از حالت حساب کاربری باشد نادیده گرفته می‌شود.

به روز رسانی اطلاعات کاربر نیز با استفاده از فراخوانی زیر انجام می‌شود

	/{user name}
	
این متد تنها با فراخوانی POST انجام می‌شود. پارامترهای قابل قبول برای این فراخوانی عبارتند از:

- login
- first_name
- last_name
- email
- password
- language
- timezone
- administrator
- staff
- active

